# Неделя 8

Необходимо реализовать веб-приложение упакованное в WAR.
Должно быть как минимум 4 страницы:
```
/index - с отображением существующих записей (показываем краткую информацию)
/edit - для добавления\редактирования записи, если передали параметр ?id=id_записи и запись существует, предзаполняем поля формы и для обновления существующей записи
/view - страница с подробной информацией о записи
/about - страница с информацией об авторе
```

### Тематика приложения: доска объявлений
Хранимые сущности в БД должны содержать следующую информацию:
```
id: Идентификатор объявления
title: Заголовок объявления
type: Тип Услуга/Покупка/Продажа
price: Цена объявления
text: Текст объявления
publisher: имя опубликовавшего
email: email опубликовавшего
phone: телефон опубликовавшего
picture_url: ссылка на изображение (брать из интернета или реализовать загрузку на сервер при наличии времени)
```

Макеты страниц можно посмотреть в директории **page_design**.

## Полезные ссылки
Справочник по HTML и CSS:

http://htmlbook.ru/html

Настройка datasource в Tomcat

https://keithrieck.wordpress.com/2010/01/28/h2-database-on-tomcat/ 

Работа с JSP

https://www.baeldung.com/jsp

https://dev64.wordpress.com/2012/03/26/jsp-form-and-servlet-parameters/

Работа с Cookie в сервлетах

https://proselyte.net/tutorials/servlets/cookies/

Пример работы с фильтром

https://www.javatpoint.com/authentication-filter

Статья с примером создания фильтра, стоит обращать внимание на конфигурацию в теорию в целом:

https://o7planning.org/10395/java-servlet-filter


## Усложненное задание
Реализовать ограниченный доступ к созданию/редактированию записей.

Для аутентификации можно использовать константную пару логин и пароль (хранить в коде).
Для аутентификации необходимо применить ServletFilter который будет проверять наличие Cookie с именем authData и значением времени входа.

Если фильтр не находит Cookie authData или указанное время меньше текущего более чем на 1 минуту - возвращаем 403 статус и запрет доступа к странице /edit.
Этот же фильтр, при наличии корректной Cookie должен обновлять значение времени на каждом запросе к приложению.

Страницы просмотра остаются доступными.


## Критерии приемки
1. Соблюдение соглашения по разработке (Автоматическая валидация во время сборки)
2. Покрытие тестами как минимум на 80% (Автоматическая валидация во время сборки)
3. Для HTML разметки пользоваться стилями из подключаемых CSS.
4. Для хранения данных нужно применять dataSource для подключения к бд настроенный в Tomcat 